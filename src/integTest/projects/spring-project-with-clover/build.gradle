import com.bmuschko.gradle.clover.CloverPlugin

buildscript {
    dependencies {
        classpath files('../../../../build/classes/main')
    }
}

apply from: '../deps.gradle'
apply plugin: 'java'
apply plugin: CloverPlugin

sourceCompatibility = 1.7
version = '1.0'

repositories {
    jcenter()
}

dependencies {
    testCompile deps.junit
    clover deps.clover

    compile 'org.springframework:spring-core:3.2.11.RELEASE'
    compile 'org.springframework:spring-context:3.2.11.RELEASE'

    testCompile 'org.springframework:spring-test:3.2.11.RELEASE'
}

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}

tasks.withType(GroovyCompile) {
    groovyOptions.encoding = 'UTF-8'
    options.encoding = 'UTF-8'
}

clover {
    compiler {
        encoding = 'UTF-8'
        debug = true
    }

    report {
        json = true
        html = true
        pdf = true
    }
}
